# Add System Tray - Tasks

## 1. 配置模块

- [x] 1.1 创建 `internal/config/config.go` 配置结构和读写方法
- [x] 1.2 实现配置文件路径获取（`%APPDATA%/WailsDemo/config.json`）
- [x] 1.3 添加默认配置和初始化逻辑

## 2. 托盘模块

- [x] 2.1 创建 `internal/tray/tray.go` 托盘管理器
- [x] 2.2 实现托盘图标初始化
- [x] 2.3 实现托盘菜单（显示/隐藏到托盘开关/退出）
- [x] 2.4 实现托盘图标双击事件

## 3. 应用集成

- [x] 3.1 修改 `main.go` 初始化托盘
- [x] 3.2 添加 `OnBeforeClose` 钩子处理关闭事件
- [x] 3.3 在 `app.go` 添加配置相关绑定方法

## 4. 前端界面

- [x] 4.1 添加设置区域到 `main.js`
- [x] 4.2 实现"最小化到托盘"开关
- [x] 4.3 添加设置样式到 `style.css`

## 5. 文档更新

- [x] 5.1 更新 `README.md` 添加托盘功能说明
- [x] 5.2 更新 `docs/INTEGRATION_GUIDE.md` 添加托盘集成指南

## 6. 验证测试

- [x] 6.1 测试托盘图标显示和菜单功能
- [x] 6.2 测试关闭隐藏到托盘
- [x] 6.3 测试配置持久化
- [x] 6.4 测试双击托盘显示窗口
